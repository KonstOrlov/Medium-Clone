(function(){"use strict";var t={4420:function(t,e,r){var a=r(6369),s=function(){var t=this,e=t._self._c;return e("div",[e("mcv-topbar"),e("router-view")],1)},i=[],o=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar navbar-light"},[e("div",{staticClass:"container"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"globalFeed"}}},[t._v(" MediumClone ")]),e("ul",{staticClass:"nav navbar-nav pull-xs-right"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"globalFeed"},exact:"","active-class":"active"}},[t._v(" Home ")])],1),t.isLoggedIn?[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"createArticle"},"active-class":"active"}},[e("i",{staticClass:"ion-compose"}),t._v("   New Article ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"settings"},"active-class":"active"}},[e("i",{staticClass:"ion-gear-a"}),t._v("   Settings ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"userProfile",params:{slug:t.currentUser.username}}}},[e("img",{staticClass:"user-pic",attrs:{src:t.currentUser.image,alt:""}}),t._v("   "+t._s(t.currentUser.username)+" ")])],1)]:t._e(),t.isAnonymous?[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"login"},"active-class":"active"}},[t._v(" Sign In ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"register"},"active-class":"active"}},[t._v(" Sign Up ")])],1)]:t._e()],2)],1)])},l=[],n=r(6265),c=r.n(n);const u=t=>{try{return JSON.parse(localStorage.getItem(t))}catch(e){return console.log("Error getting data from localstorage",e),null}},d=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.log("Error saving data in localstorage",r)}};c().defaults.baseURL="https://conduit.productionready.io/api",c().interceptors.request.use((t=>{const e=u("authToken");return t.headers.Authorization=e?`Token ${e}`:"",t}));var m=c();const g=t=>m.post("/users",{user:t}),p=t=>m.post("/users/login",{user:t}),v=()=>m.get("/user"),f=t=>m.put("/user",{user:t}).then((t=>t.data.user));var h={register:g,login:p,getCurrentUser:v,updateCurrentUser:f};const C={isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null},S={registerStart:"[auth] registerStart",registerSuccess:"[auth] registerSuccess",registerFailure:"[auth] registerFailure",loginStart:"[auth] loginStart",loginSuccess:"[auth] loginSuccess",loginFailure:"[auth] loginFailure",getCurrentUserStart:"[auth] getCurrentUserStart",getCurrentUserSuccess:"[auth] getCurrentUserSuccess",getCurrentUserFailure:"[auth] getCurrentUserFailure",updateCurrentUserStart:"[auth] updateCurrentUserStart",updateCurrentUserSuccess:"[auth] updateCurrentUserSuccess",updateCurrentUserFailure:"[auth] updateCurrentUserFailure",logout:"[auth] logout"},b={register:"[auth] register",login:"[auth] login",getCurrentUser:"[auth] getCurrentUser",updateCurrentUser:"[auth] updateCurrentUser",logout:"[auth] logout"},F={currentUser:"[auth] currentUser",isLoggedIn:"[auth] isLoggedIn",isAnonymous:"[auth] isAnonymous"},_={[F.currentUser]:t=>t.currentUser,[F.isLoggedIn]:t=>Boolean(t.isLoggedIn),[F.isAnonymous]:t=>!1===t.isLoggedIn},A={[S.registerStart](t){t.isSubmitting=!0,t.validationErrors=null},[S.registerSuccess](t,e){t.isSubmitting=!1,t.currentUser=e,t.isLoggedIn=!0},[S.registerFailure](t,e){t.isSubmitting=!1,t.validationErrors=e},[S.loginStart](t){t.isSubmitting=!0,t.validationErrors=null},[S.loginSuccess](t,e){t.isSubmitting=!1,t.currentUser=e,t.isLoggedIn=!0},[S.loginFailure](t,e){t.isSubmitting=!1,t.validationErrors=e},[S.getCurrentUserStart](t){t.isLoading=!0},[S.getCurrentUserSuccess](t,e){t.isLoading=!1,t.currentUser=e,t.isLoggedIn=!0},[S.getCurrentUserFailure](t){t.isLoading=!1,t.isLoggedIn=!1,t.currentUser=null},[S.updateCurrentUserStart](){},[S.updateCurrentUserSuccess](t,e){t.currentUser=e},[S.updateCurrentUserFailure](){},[S.logout](){C.currentUser=null,C.isLoggedIn=!1}},P={[b.register](t,e){return new Promise((r=>{t.commit(S.registerStart),h.register(e).then((e=>{t.commit(S.registerSuccess,e.data.user),d("authToken",e.data.user.token),r(e.data.user)})).catch((e=>{t.commit(S.registerFailure,e.response.data.errors)}))}))},[b.login](t,e){return new Promise((r=>{t.commit(S.loginStart),h.login(e).then((e=>{t.commit(S.loginSuccess,e.data.user),d("authToken",e.data.user.token),r(e.data.user)})).catch((e=>{t.commit(S.loginFailure,e.response.data.errors)}))}))},[b.getCurrentUser](t){return new Promise((e=>{t.commit(S.getCurrentUserStart),h.getCurrentUser().then((r=>{t.commit(S.getCurrentUserSuccess,r.data.user),e(r.data.user)})).catch((()=>{t.commit(S.getCurrentUserFailure)}))}))},[b.updateCurrentUser](t,{currentUserInput:e}){return new Promise((r=>{t.commit(S.updateCurrentUserStart),h.updateCurrentUser(e).then((e=>{t.commit(S.updateCurrentUserSuccess,e),r(e)})).catch((e=>{t.commit(S.updateCurrentUserFailure,e.response.data.errors)}))}))},[b.logout](t){return new Promise((e=>{d("authToken",""),t.commit(S.logout),e()}))}};var U={state:C,mutations:A,actions:P,getters:_},y=r(3822),w={name:"McvTopbar",computed:{...(0,y.Se)({currentUser:F.currentUser,isLoggedIn:F.isLoggedIn,isAnonymous:F.isAnonymous})}},L=w,T=r(1001),x=(0,T.Z)(L,o,l,!1,null,null,null),M=x.exports,k={name:"McvApp",components:{McvTopbar:M},mounted(){this.$store.dispatch(b.getCurrentUser)}},E=k,$=(0,T.Z)(E,s,i,!1,null,null,null),N=$.exports,Z=r(2631),I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("mcv-banner"),e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("mcv-feed-toggler"),e("mcv-feed",{attrs:{"api-url":t.apiUrl}})],1),e("div",{staticClass:"col-md-3"},[e("mcv-popular-tags")],1)])])],1)},O=[],q=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("mcv-loading"):t._e(),t.error?e("mcv-error-message"):t._e(),t.feed?e("div",[t._l(t.feed.articles,(function(r,a){return e("div",{key:a,staticClass:"article-preview"},[e("div",{staticClass:"article-meta"},[e("router-link",{attrs:{to:{name:"userProfile",params:{slug:r.author.username}}}},[e("img",{attrs:{src:r.author.image,alt:"Image profile"}})]),e("div",{staticClass:"info"},[e("router-link",{attrs:{to:{name:"userProfile",params:{slug:r.author.username}}}},[t._v(" "+t._s(r.author.username)+" ")]),e("span",{staticClass:"date"},[t._v(t._s(r.createdAt))])],1),e("div",{staticClass:"pull-xs-right"},[e("mcv-add-to-favorites",{attrs:{"is-favorited":r.favorited,"article-slug":r.slug,"favorites-count":r.favoritesCount}})],1)],1),e("router-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:r.slug}}}},[e("h1",[t._v(t._s(r.title))]),e("p",[t._v(t._s(r.description))]),e("span",[t._v("Read more...")]),e("mcv-tag-list",{attrs:{tags:r.tagList}})],1)],1)})),e("mcv-pagination",{attrs:{total:t.feed.articlesCount,limit:t.limit,url:t.baseUrl,"current-page":t.currentPage}})],2):t._e()],1)},V=[],j=r(4782);const B=t=>m.get(t);var D={getFeed:B};const R={data:null,isLoading:!1,error:null},G={getFeedStart:"[feed] getFeedStart",getFeedSuccess:"[feed] getFeedSuccess",getFeedFailure:"[feed] getFeedFailure"},H={getFeed:"[feed] getFeed"},J={[G.getFeedStart](t){t.isLoading=!0,t.data=null},[G.getFeedSuccess](t,e){t.isLoading=!1,t.data=e},[G.getFeedFailure](t){t.isLoading=!1}},Y={[H.getFeed](t,{apiUrl:e}){return new Promise((r=>{t.commit(G.getFeedStart),D.getFeed(e).then((e=>{t.commit(G.getFeedSuccess,e.data),r(e.data)})).catch((()=>{t.commit(G.getFeedFailure)}))}))}};var z={state:R,mutations:J,actions:Y},W=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"pagination"},t._l(t.pages,(function(r){return e("li",{key:r,staticClass:"page-item",class:{active:t.currentPage===r}},[e("router-link",{staticClass:"page-link",attrs:{to:{path:t.url,query:{page:r}}}},[t._v(" "+t._s(r)+" ")])],1)})),0)},K=[];const Q=(t,e)=>[...Array(e).keys()].map((e=>e+t));var X={name:"McvPagination",props:{total:{type:Number,required:!0},limit:{type:Number,required:!0},currentPage:{type:Number,required:!0},url:{type:String,required:!0}},computed:{pages(){const t=Math.ceil(this.total/this.limit);return Q(1,t)}}},tt=X,et=(0,T.Z)(tt,W,K,!1,null,"21b6bf86",null),rt=et.exports,at=function(){var t=this,e=t._self._c;return e("div",[t._v("Loading...")])},st=[],it={name:"McvLoading"},ot=it,lt=(0,T.Z)(ot,at,st,!1,null,"5c1047f0",null),nt=lt.exports,ct=function(){var t=this,e=t._self._c;return e("div",[t._v(" "+t._s(t.message)+" ")])},ut=[],dt={name:"McvErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}},mt=dt,gt=(0,T.Z)(mt,ct,ut,!1,null,"9fe13e02",null),pt=gt.exports;const vt=10;var ft=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tag-list"},t._l(t.tags,(function(r){return e("li",{key:r,staticClass:"tag-default tag-pill tag-outline"},[t._v(" "+t._s(r)+" ")])})),0)},ht=[],Ct={name:"McvTagList",props:{tags:{type:Array,required:!0}}},St=Ct,bt=(0,T.Z)(St,ft,ht,!1,null,"72caa88f",null),Ft=bt.exports,_t=function(){var t=this,e=t._self._c;return e("button",{class:{btn:!0,"btn-sm":!0,"btn-primary":t.isFavoritedOptimistic,"btn-outline-primary":!t.isFavoritedOptimistic},on:{click:t.handleLike}},[e("i",{staticClass:"ion-heart"}),e("span",[t._v("  "+t._s(t.favoritesCountOptimistic))])])},At=[];const Pt=t=>`/articles/${t}/favorite`,Ut=t=>{const e=Pt(t);return m.post(e).then((t=>t.data.article))},yt=t=>{const e=Pt(t);return m["delete"](e).then((t=>t.data.article))};var wt={addToFavorites:Ut,removeFromFavorites:yt};const Lt={addToFavoritesStart:"[addToFavorites] addToFavoritesStart",addToFavoritesSuccess:"[addToFavorites] addToFavoritesSuccess",addToFavoritesFailure:"[addToFavorites] addToFavoritesFailure"},Tt={addToFavorites:"[addToFavorites] addToFavorites"},xt={[Lt.addToFavoritesStart](){},[Lt.addToFavoritesSuccess](){},[Lt.addToFavoritesFailure](){}},Mt={[Tt.addToFavorites](t,{slug:e,isFavorited:r}){return new Promise((a=>{t.commit(Lt.addToFavoritesStart);const s=r?wt.removeFromFavorites(e):wt.addToFavorites(e);s.then((e=>{t.commit(Lt.addToFavoritesSuccess,e),a(e)})).catch((()=>{t.commit(Lt.addToFavoritesFailure)}))}))}};var kt={mutations:xt,actions:Mt},Et={name:"McvAddToFavorites",props:{isFavorited:{type:Boolean,required:!0},articleSlug:{type:String,required:!0},favoritesCount:{type:Number,required:!0}},data(){return{isFavoritedOptimistic:this.isFavorited,favoritesCountOptimistic:this.favoritesCount}},methods:{handleLike(){this.$store.dispatch(Tt.addToFavorites,{slug:this.articleSlug,isFavorited:this.isFavoritedOptimistic}),this.isFavoritedOptimistic?this.favoritesCountOptimistic-=1:this.favoritesCountOptimistic+=1,this.isFavoritedOptimistic=!this.isFavoritedOptimistic}}},$t=Et,Nt=(0,T.Z)($t,_t,At,!1,null,"b460ec44",null),Zt=Nt.exports,It={name:"McvFeed",components:{McvTagList:Ft,McvPagination:rt,McvLoading:nt,McvErrorMessage:pt,McvAddToFavorites:Zt},props:{apiUrl:{type:String,required:!0}},data(){return{url:"/"}},computed:{...(0,y.rn)({isLoading:t=>t.feed.isLoading,feed:t=>t.feed.data,error:t=>t.feed.error}),limit(){return vt},currentPage(){return Number(this.$route.query.page||"1")},baseUrl(){return this.$route.path},offset(){return this.currentPage*vt-vt}},watch:{currentPage(){this.fetchFeed()},apiUrl(){this.fetchFeed()}},mounted(){this.fetchFeed()},methods:{fetchFeed(){const t=(0,j.parseUrl)(this.apiUrl),e=(0,j.stringify)({limit:vt,offset:this.offset,...t.query}),r=`${t.url}?${e}`;this.$store.dispatch(H.getFeed,{apiUrl:r})}}},Ot=It,qt=(0,T.Z)(Ot,q,V,!1,null,"4e05c329",null),Vt=qt.exports,jt=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("mcv-loading"):t._e(),t.error?e("mcv-error-message"):t._e(),t.popularTags?e("div",{staticClass:"sidebar"},[e("p",[t._v("Popular Tags")]),e("div",{staticClass:"tag-list"},t._l(t.popularTags,(function(r){return e("router-link",{key:r,staticClass:"tag-default tag-pill",attrs:{to:{name:"tag",params:{slug:r}}}},[t._v(" "+t._s(r)+" ")])})),1)]):t._e()],1)},Bt=[];const Dt=()=>m.get("/tags").then((t=>t.data.tags));var Rt={getPopularTags:Dt};const Gt={data:null,isLoading:!1,error:null},Ht={getPopularTagsStart:"[popularTags] getPopularTagsStart",getPopularTagsSuccess:"[popularTags] getPopularTagsSuccess",getPopularTagsFailure:"[popularTags] getPopularTagsFailure"},Jt={getPopularTags:"[popularTags] getPopularTagsFeed"},Yt={[Ht.getPopularTagsStart](t){t.isLoading=!0,t.data=null},[Ht.getPopularTagsSuccess](t,e){t.isLoading=!1,t.data=e},[Ht.getPopularTagsFailure](t){t.isLoading=!1}},zt={[Jt.getPopularTags](t){return new Promise((e=>{t.commit(Ht.getPopularTagsStart),Rt.getPopularTags().then((r=>{t.commit(Ht.getPopularTagsSuccess,r),e(r)})).catch((()=>{t.commit(Ht.getPopularTagsFailure)}))}))}};var Wt={state:Gt,mutations:Yt,actions:zt},Kt={name:"McvPopularTags",components:{McvLoading:nt,McvErrorMessage:pt},computed:{...(0,y.rn)({isLoading:t=>t.popularTags.isLoading,error:t=>t.popularTags.error,popularTags:t=>t.popularTags.data})},mounted(){this.$store.dispatch(Jt.getPopularTags)}},Qt=Kt,Xt=(0,T.Z)(Qt,jt,Bt,!1,null,"6f01d940",null),te=Xt.exports,ee=function(){var t=this;t._self._c;return t._m(0)},re=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner"},[e("div",{staticClass:"container"},[e("h1",[t._v("Medium Clone")]),e("p",[t._v("A place to share knowledge")])])])}],ae={name:"McvBanner"},se=ae,ie=(0,T.Z)(se,ee,re,!1,null,"0d43af08",null),oe=ie.exports,le=function(){var t=this,e=t._self._c;return e("div",{staticClass:"feed-toggle"},[e("ul",{staticClass:"nav nav-pills outline-active"},[t.isLoggedIn?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"yourFeed"===t.routeName},attrs:{to:{name:"yourFeed"}}},[t._v("Your feed")])],1):t._e(),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"globalFeed"===t.routeName},attrs:{to:{name:"globalFeed"}}},[t._v("Global feed")])],1),t.tagName?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"tag"===t.routeName},attrs:{to:{name:"tag"}}},[e("i",{staticClass:"ion-pound"}),t._v(" "+t._s(t.tagName)+" ")])],1):t._e()])])},ne=[],ce={name:"McvFeedToggler",props:{tagName:{type:String,required:!1}},computed:{...(0,y.Se)({isLoggedIn:F.isLoggedIn}),routeName(){return this.$route.name}}},ue=ce,de=(0,T.Z)(ue,le,ne,!1,null,"3013a67c",null),me=de.exports,ge={name:"McvGlobalFeed",components:{McvFeed:Vt,McvPopularTags:te,McvBanner:oe,McvFeedToggler:me},data(){return{apiUrl:"/articles"}}},pe=ge,ve=(0,T.Z)(pe,I,O,!1,null,null,null),fe=ve.exports,he=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("mcv-banner"),e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("mcv-feed-toggler"),e("mcv-feed",{attrs:{"api-url":t.apiUrl}})],1),e("div",{staticClass:"col-md-3"},[e("mcv-popular-tags")],1)])])],1)},Ce=[],Se={name:"McvYourFeed",components:{McvFeed:Vt,McvPopularTags:te,McvBanner:oe,McvFeedToggler:me},data(){return{apiUrl:"/articles/feed"}}},be=Se,Fe=(0,T.Z)(be,he,Ce,!1,null,null,null),_e=Fe.exports,Ae=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("mcv-banner"),e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("mcv-feed-toggler",{attrs:{"tag-name":t.tagName}}),e("mcv-feed",{attrs:{"api-url":t.apiUrl}})],1),e("div",{staticClass:"col-md-3"},[e("mcv-popular-tags")],1)])])],1)},Pe=[],Ue={name:"McvTagFeed",components:{McvFeed:Vt,McvPopularTags:te,McvBanner:oe,McvFeedToggler:me},computed:{tagName(){return this.$route.params.slug},apiUrl(){return`/articles?tag=${this.tagName}`}}},ye=Ue,we=(0,T.Z)(ye,Ae,Pe,!1,null,null,null),Le=we.exports,Te=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-page"},[e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 offset-md-3 col-xs-12"},[e("h1",{staticClass:"text-xs-center"},[t._v("Sign Up")]),e("p",{staticClass:"text-xs-center"},[e("router-link",{attrs:{to:"login"}},[t._v("Have an account?")])],1),t.validationErrors?e("mcv-validation-errors",{attrs:{"validation-errors":t.validationErrors}}):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"btn btn-lg btn-primary pull-xs-right",attrs:{disabled:t.isSubmitting}},[t._v("Sign Up")])])],1)])])])},xe=[],Me=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"error-messages"},t._l(t.errorMessages,(function(r){return e("li",{key:r},[t._v(" "+t._s(r)+" ")])})),0)},ke=[],Ee={name:"McvValidationErrors",props:{validationErrors:{type:Object,required:!0}},computed:{errorMessages(){return Object.keys(this.validationErrors).map((t=>{const e=this.validationErrors[t].join(", ");return`${t} ${e}`}))}}},$e=Ee,Ne=(0,T.Z)($e,Me,ke,!1,null,null,null),Ze=Ne.exports,Ie={name:"McvRegister",components:{McvValidationErrors:Ze},comments:{McvValidationErrors:Ze},data(){return{email:"",username:"",password:""}},computed:{...(0,y.rn)({isSubmitting:t=>t.auth.isSubmitting,validationErrors:t=>t.auth.validationErrors})},methods:{onSubmit(){this.$store.dispatch(b.register,{email:this.email,username:this.username,password:this.password}).then((()=>{this.$router.push({name:"globalFeed"})}))}}},Oe=Ie,qe=(0,T.Z)(Oe,Te,xe,!1,null,null,null),Ve=qe.exports,je=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 offset-md-3 col-xs-12"},[e("h1",{staticClass:"text-xs-center"},[t._v("Sign In")]),e("p",{staticClass:"text-xs-center"},[e("router-link",{attrs:{to:"register"}},[t._v("Need an account?")])],1),t.validationErrors?e("mcv-validation-errors",{attrs:{"validation-errors":t.validationErrors}}):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"btn btn-lg btn-primary pull-xs-right",attrs:{disabled:t.isSubmitting}},[t._v("Sign In")])])],1)])])},Be=[],De={name:"McvLogin",components:{McvValidationErrors:Ze},comments:{McvValidationErrors:Ze},data(){return{email:"",password:""}},computed:{...(0,y.rn)({isSubmitting:t=>t.auth.isSubmitting,validationErrors:t=>t.auth.validationErrors})},methods:{onSubmit(){this.$store.dispatch(b.login,{email:this.email,password:this.password}).then((()=>{this.$router.push({name:"globalFeed"})}))}}},Re=De,Ge=(0,T.Z)(Re,je,Be,!1,null,null,null),He=Ge.exports,Je=function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-page"},[e("div",{staticClass:"banner"},[t.article?e("div",{staticClass:"container"},[e("h1",[t._v(t._s(t.article.title))]),e("div",{staticClass:"article-meta"},[e("router-link",{attrs:{to:{name:"userProfile",params:{slug:t.article.author.username}}}},[e("img",{attrs:{src:t.article.author.image,alt:"Profile image"}})]),e("div",{staticClass:"info"},[e("router-link",{attrs:{to:{name:"userProfile",params:{slug:t.article.author.username}}}},[t._v(" "+t._s(t.article.author.username)+" ")]),e("span",{staticClass:"date"},[t._v(t._s(t.article.createdAt))])],1),t.isAuthor?e("span",[e("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:{name:"editArticle",params:{slug:t.article.slug}}}},[e("i",{staticClass:"ion-edit"}),t._v(" Edit Article ")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:t.deleteArticle}},[e("i",{staticClass:"ion-trash-a"}),t._v(" Delete Article ")])],1):t._e()],1)]):t._e()]),e("div",{staticClass:"container-page"},[t.isLoading?e("mcv-loading"):t._e(),t.error?e("mcv-error-message",{attrs:{message:t.error}}):t._e(),t.article?e("div",{staticClass:"row article-content"},[e("div",{staticClass:"col-xs-12"},[e("div",[e("p",[t._v(" "+t._s(t.article.body)+" ")])]),e("mcv-tag-list",{attrs:{tags:t.article.tagList}})],1)]):t._e()],1)])},Ye=[];const ze=t=>m.get(`/articles/${t}`).then((t=>t.data.article)),We=t=>m["delete"](`/articles/${t}`),Ke=t=>m.post("/articles",{article:t}).then((t=>t.data.article)),Qe=(t,e)=>m.put(`/articles/${t}`,{article:e}).then((t=>t.data.article));var Xe={getArticle:ze,deleteArticle:We,createArticle:Ke,updateArticle:Qe};const tr={data:null,isLoading:!1,error:null},er={getArticleStart:"[article] getArticleStart",getArticleSuccess:"[article] getArticleSuccess",getArticleFailure:"[article] getArticleFailure",deleteArticleStart:"[article] deleteArticleStart",deleteArticleSuccess:"[article] deleteArticleSuccess",deleteArticleFailure:"[article] deleteArticleFailure"},rr={getArticle:"[article] getArticle",deleteArticle:"[article] deleteArticle"},ar={[er.getArticleStart](t){t.isLoading=!0,t.data=null},[er.getArticleSuccess](t,e){t.isLoading=!1,t.data=e},[er.getArticleFailure](t){t.isLoading=!1},[er.deleteArticleStart](){},[er.deleteArticleSuccess](){},[er.deleteArticleFailure](){}},sr={[rr.getArticle](t,{slug:e}){return new Promise((r=>{t.commit(er.getArticleStart,{slug:e}),Xe.getArticle(e).then((e=>{t.commit(er.getArticleSuccess,e),r(e)})).catch((()=>{t.commit(er.getArticleFailure)}))}))},[rr.deleteArticle](t,{slug:e}){return new Promise((r=>{t.commit(er.deleteArticleStart,{slug:e}),Xe.deleteArticle(e).then((()=>{t.commit(er.deleteArticleSuccess),r()})).catch((()=>{t.commit(er.deleteArticleFailure)}))}))}};var ir={state:tr,mutations:ar,actions:sr},or={name:"McvArticle",components:{McvErrorMessage:pt,McvLoading:nt,McvTagList:Ft},mounted(){this.$store.dispatch(rr.getArticle,{slug:this.$route.params.slug})},computed:{...(0,y.rn)({isLoading:t=>t.article.isLoading,error:t=>t.article.error,article:t=>t.article.data}),...(0,y.Se)({currentUser:F.currentUser}),isAuthor(){return!(!this.currentUser||!this.article)&&this.currentUser.username===this.article.author.username}},methods:{deleteArticle(){this.$store.dispatch(rr.deleteArticle,{slug:this.$route.params.slug}).then((()=>this.$router.push({name:"globalFeed"})))}}},lr=or,nr=(0,T.Z)(lr,Je,Ye,!1,null,"5d3e4a41",null),cr=nr.exports,ur=function(){var t=this,e=t._self._c;return e("mcv-article-form",{attrs:{"initial-values":t.initialValues,errors:t.validationErrors,"is-submitting":t.isSubmitting},on:{articleSubmit:t.onSubmit}})},dr=[],mr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor-page"},[e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-10 offset-md-1 col-xs-12"},[t.errors?e("mcv-validation-errors",{attrs:{"validation-errors":t.errors}}):t._e(),e("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Article title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"form-control form-control-lg",attrs:{placeholder:"What is article about?"},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tagList,expression:"tagList"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Enter tags"},domProps:{value:t.tagList},on:{input:function(e){e.target.composing||(t.tagList=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-lg pull-xs-right btn-primary",attrs:{disabled:t.isSubmitting}},[t._v(" Publish Article ")])])])])],1)])])])},gr=[],pr={name:"McvArticleForm",components:{McvValidationErrors:Ze},props:{initialValues:{type:Object,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},data(){return{title:this.initialValues.title,description:this.initialValues.description,body:this.initialValues.body,tagList:this.initialValues.tagList.join(" ")}},methods:{onSubmit(){const t={title:this.title,description:this.description,body:this.body,tagList:this.tagList.split(" ")};this.$emit("articleSubmit",t)}}},vr=pr,fr=(0,T.Z)(vr,mr,gr,!1,null,"28d95f51",null),hr=fr.exports;const Cr={isSubmitting:!1,validationErrors:null},Sr={createArticleStart:"[createArticle] createArticleStart",createArticleSuccess:"[createArticle] createArticleSuccess",createArticleFailure:"[createArticle] createArticleFailure"},br={createArticle:"[createArticle] createArticle"},Fr={[Sr.createArticleStart](t){t.isSubmitting=!0},[Sr.createArticleSuccess](t){t.isSubmitting=!1},[Sr.createArticleFailure](t,e){t.isSubmitting=!1,t.validationErrors=e}},_r={[br.createArticle](t,{articleInput:e}){return new Promise((r=>{t.commit(Sr.createArticleStart),Xe.createArticle(e).then((e=>{t.commit(Sr.createArticleSuccess),r(e)})).catch((e=>{t.commit(Sr.createArticleFailure,e.response.data.errors)}))}))}};var Ar={state:Cr,actions:_r,mutations:Fr},Pr={name:"createArticle",components:{McvArticleForm:hr},computed:{...(0,y.rn)({isSubmitting:t=>t.createArticle.isSubmitting,validationErrors:t=>t.createArticle.validationErrors})},data(){return{initialValues:{title:"",description:"",body:"",tagList:[]}}},methods:{onSubmit(t){this.$store.dispatch(br.createArticle,{articleInput:t}).then((t=>{this.$router.push({name:"article",params:{slug:t.slug}})}))}}},Ur=Pr,yr=(0,T.Z)(Ur,ur,dr,!1,null,"1a684000",null),wr=yr.exports,Lr=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("mcv-loading"):t._e(),t.initialValues?e("mcv-article-form",{attrs:{"initial-values":t.initialValues,errors:t.validationErrors,"is-submitting":t.isSubmitting},on:{articleSubmit:t.onSubmit}}):t._e()],1)},Tr=[];const xr={isSubmitting:!1,validationErrors:null,isLoading:!1,article:null},Mr={updateArticleStart:"[updateArticle] updateArticleStart",updateArticleSuccess:"[updateArticle] updateArticleSuccess",updateArticleFailure:"[updateArticle] updateArticleFailure",getArticleStart:"[updateArticle] getArticleStart",getArticleSuccess:"[updateArticle] getArticleSuccess",getArticleFailure:"[updateArticle] getArticleFailure"},kr={updateArticle:"[updateArticle] updateArticle",getArticle:"[updateArticle] getArticle"},Er={[Mr.updateArticleStart](t){t.isSubmitting=!0},[Mr.updateArticleSuccess](t){t.isSubmitting=!1},[Mr.updateArticleFailure](t,e){t.isSubmitting=!1,t.validationErrors=e},[Mr.getArticleStart](t){t.isLoading=!0},[Mr.getArticleSuccess](t,e){t.isLoading=!1,t.article=e},[Mr.getArticleFailure](t){t.isLoading=!1}},$r={[kr.updateArticle](t,{slug:e,articleInput:r}){return new Promise((a=>{t.commit(Mr.updateArticleStart),Xe.updateArticle(e,r).then((e=>{t.commit(Mr.updateArticleSuccess,e),a(e)})).catch((e=>{t.commit(Mr.updateArticleFailure,e.response.data.errors)}))}))},[kr.getArticle](t,{slug:e}){return new Promise((r=>{t.commit(Mr.getArticleStart),Xe.getArticle(e).then((e=>{t.commit(Mr.getArticleSuccess,e),r(e)})).catch((()=>{t.commit(Mr.getArticleFailure)}))}))}};var Nr={state:xr,actions:$r,mutations:Er},Zr={name:"editArticle",components:{McvArticleForm:hr,McvLoading:nt},computed:{...(0,y.rn)({isSubmitting:t=>t.editArticle.isSubmitting,validationErrors:t=>t.editArticle.validationErrors,isLoading:t=>t.editArticle.isLoading,article:t=>t.editArticle.article}),initialValues(){return this.article?{title:this.article.title,description:this.article.description,body:this.article.body,tagList:this.article.tagList}:null}},mounted(){this.$store.dispatch(kr.getArticle,{slug:this.$route.params.slug})},methods:{onSubmit(t){const e=this.$route.params.slug;this.$store.dispatch(kr.updateArticle,{slug:e,articleInput:t}).then((t=>{this.$router.push({name:"article",params:{slug:t.slug}})}))}}},Ir=Zr,Or=(0,T.Z)(Ir,Lr,Tr,!1,null,"5f1dd9dc",null),qr=Or.exports,Vr=function(){var t=this,e=t._self._c;return t.currentUser?e("div",{staticClass:"settings-page"},[e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 offset-md-3 col-xs-12"},[e("h1",{staticClass:"text-xs-center"},[t._v("Settings")]),t.validationErrors?e("mcv-validation-errors",{attrs:{"validation-errors":t.validationErrors}}):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.image,expression:"form.image"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"URL of profile picture"},domProps:{value:t.form.image},on:{input:function(e){e.target.composing||t.$set(t.form,"image",e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.bio,expression:"form.bio"}],staticClass:"form-control form-control-lg",attrs:{placeholder:"Short bio about you"},domProps:{value:t.form.bio},on:{input:function(e){e.target.composing||t.$set(t.form,"bio",e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control form-control-lg",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),e("button",{staticClass:"btn btn-lg btn-primary pull-xs-right",attrs:{disabled:t.isSubmitting}},[t._v("Update Settings")])])]),e("hr"),e("button",{staticClass:"btn btn-outline-danger",on:{click:t.logout}},[t._v("Or click here to logout")])],1)])])]):t._e()},jr=[],Br={name:"McvSettings",components:{McvValidationErrors:Ze},computed:{...(0,y.rn)({isSubmitting:t=>t.settings.isSubmitting,validationErrors:t=>t.settings.validationErrors}),...(0,y.Se)({currentUser:F.currentUser}),form(){return{username:this.currentUser.username,bio:this.currentUser.bio,image:this.currentUser.image,email:this.currentUser.email,password:""}}},methods:{onSubmit(){this.$store.dispatch(b.updateCurrentUser,{currentUserInput:this.form})},logout(){this.$store.dispatch(b.logout).then((()=>this.$router.push({name:"globalFeed"})))}}},Dr=Br,Rr=(0,T.Z)(Dr,Vr,jr,!1,null,"75c0afea",null),Gr=Rr.exports,Hr=function(){var t=this,e=t._self._c;return t.userProfile?e("div",{staticClass:"profile-page"},[e("div",{staticClass:"user-info"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[e("img",{staticClass:"user-img",attrs:{src:t.userProfile.image,alt:""}}),e("h4",[t._v(t._s(t.userProfile.username))]),e("p",[t._v(t._s(t.userProfile.bio))]),e("div",[t._v(" Follow USER button "),t.isCurrentUserProfile?e("router-link",{staticClass:"btn btn-sm btn-outline-secondary action-btn",attrs:{to:{name:"settings"}}},[t._v(" Edit Profile Settings ")]):t._e()],1)])])])]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[e("div",{staticClass:"article-toggle"},[e("ul",{staticClass:"nav nav-pills outline-active"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"userProfile"===t.routeName},attrs:{to:{name:"userProfile",params:{slug:t.userProfile.username}}}},[t._v(" My Post ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"userProfileFavorites"===t.routeName},attrs:{to:{name:"userProfileFavorites",params:{slug:t.userProfile.username}}}},[t._v(" Favorites Post ")])],1)])]),e("mcv-feed",{attrs:{"api-url":t.apiUrl}})],1)])])]):t._e()},Jr=[];const Yr=t=>m.get(`/profiles/${t}`).then((t=>t.data.profile));var zr={getUserProfile:Yr};const Wr={data:null,isLoading:!1,error:null},Kr={getUserProfileStart:"[userProfile] getUserProfileStart",getUserProfileSuccess:"[userProfile] getUserProfileSuccess",getUserProfileFailure:"[userProfile] getUserProfileFailure"},Qr={getUserProfile:"[userProfile] getUserProfile"},Xr={[Kr.getUserProfileStart](t){t.isLoading=!0,t.data=null},[Kr.getUserProfileSuccess](t,e){t.isLoading=!1,t.data=e},[Kr.getUserProfileFailure](t){t.isLoading=!1}},ta={[Qr.getUserProfile](t,{slug:e}){return new Promise((r=>{t.commit(Kr.getUserProfileStart),zr.getUserProfile(e).then((e=>{t.commit(Kr.getUserProfileSuccess,e),r(e)})).catch((()=>{t.commit(Kr.getUserProfileFailure)}))}))}};var ea={state:Wr,mutations:Xr,actions:ta},ra={name:"McvUserProfile",components:{McvFeed:Vt},computed:{...(0,y.rn)({isLoading:t=>t.userProfile.isLoading,error:t=>t.userProfile.error,userProfile:t=>t.userProfile.data}),...(0,y.Se)({currentUser:F.currentUser}),isCurrentUserProfile(){return!(!this.currentUser||!this.userProfile)&&this.currentUser.username===this.userProfile.username},apiUrl(){const t=this.$route.path.includes("favorites");return t?`/articles?favorited=${this.userProfileSlug}`:`/articles?author=${this.userProfileSlug}`},userProfileSlug(){return this.$route.params.slug},routeName(){return this.$route.name}},watch:{userProfileSlug(){this.getUserProfile()}},mounted(){this.getUserProfile()},methods:{getUserProfile(){this.$store.dispatch(Qr.getUserProfile,{slug:this.$route.params.slug})}}},aa=ra,sa=(0,T.Z)(aa,Hr,Jr,!1,null,"173c2b70",null),ia=sa.exports;a.ZP.use(Z.ZP);const oa=[{path:"/",name:"globalFeed",component:fe},{path:"/register",name:"register",component:Ve},{path:"/login",name:"login",component:He},{path:"/feed",name:"yourFeed",component:_e},{path:"/tags/:slug",name:"tag",component:Le},{path:"/articles/new",name:"createArticle",component:wr},{path:"/articles/:slug",name:"article",component:cr},{path:"/articles/:slug/edit",name:"editArticle",component:qr},{path:"/settings",name:"settings",component:Gr},{path:"/profiles/:slug",name:"userProfile",component:ia},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:ia}],la=new Z.ZP({routes:oa});var na=la;const ca={isSubmitting:!1,validationErrors:null},ua={[S.updateCurrentUserStart](t){t.isSubmitting=!0,t.validationErrors=null},[S.updateCurrentUserSuccess](t){t.isSubmitting=!1},[S.updateCurrentUserFailure](t,e){t.isSubmitting=!1,t.validationErrors=e}};var da={state:ca,mutations:ua};a.ZP.use(y.ZP);var ma=new y.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{auth:U,feed:z,popularTags:Wt,article:ir,createArticle:Ar,editArticle:Nr,settings:da,addToFavorites:kt,userProfile:ea}});a.ZP.config.productionTip=!1,new a.ZP({router:na,store:ma,render:t=>t(N)}).$mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,r),i.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,i){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],s=t[u][1],i=t[u][2];for(var l=!0,n=0;n<a.length;n++)(!1&i||o>=i)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(l=!1,i<o&&(o=i));if(l){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,s,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,i,o=a[0],l=a[1],n=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(s in l)r.o(l,s)&&(r.m[s]=l[s]);if(n)var u=n(r)}for(e&&e(a);c<o.length;c++)i=o[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},a=self["webpackChunkmediumclone_vue"]=self["webpackChunkmediumclone_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(4420)}));a=r.O(a)})();
//# sourceMappingURL=app.1e50a0ca.js.map